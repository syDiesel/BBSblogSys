(function(){var b=(function(){var i={};var j=[];i.inc=function(l,k){return true};i.register=function(n,l){var p=n.split(".");var o=i;var m=null;while(m=p.shift()){if(p.length){if(o[m]===undefined){o[m]={}}o=o[m]}else{if(o[m]===undefined){try{o[m]=l(i)}catch(q){}}}}};i.regShort=function(k,l){if(i[k]!==undefined){throw"["+k+"] : short : has been register"}i[k]=l};i.IE=/msie/i.test(navigator.userAgent);i.E=function(k){if(typeof k==="string"){return document.getElementById(k)}else{return k}};i.C=function(k){var l;k=k.toUpperCase();if(k=="TEXT"){l=document.createTextNode("")}else{if(k=="BUFFER"){l=document.createDocumentFragment()}else{l=document.createElement(k)}}return l};i.log=function(k){j.push("["+((new Date()).getTime()%100000)+"]: "+k)};i.getErrorLogInformationList=function(k){return j.splice(0,k||j.length)};return i})();$Import=b.inc;b.register("core.arr.isArray",function(i){return function(j){return Object.prototype.toString.call(j)==="[object Array]"}});b.register("core.str.trim",function(i){return function(m){if(typeof m!=="string"){throw"trim need a string as parameter"}var j=m.length;var l=0;var k=/(\u3000|\s|\t|\u00A0)/;while(l<j){if(!k.test(m.charAt(l))){break}l+=1}while(j>l){if(!k.test(m.charAt(j-1))){break}j-=1}return m.slice(l,j)}});b.register("core.json.queryToJson",function(i){return function(l,p){var r=i.core.str.trim(l).split("&");var q={};var k=function(t){if(p){return decodeURIComponent(t)}else{return t}};for(var n=0,o=r.length;n<o;n++){if(r[n]){var m=r[n].split("=");var j=m[0];var s=m[1];if(m.length<2){s=j;j="$nullName"}if(!q[j]){q[j]=k(s)}else{if(i.core.arr.isArray(q[j])!=true){q[j]=[q[j]]}q[j].push(k(s))}}}return q}});var g=document.location.hash.replace("#","");var d=b.core.json.queryToJson(g);var h=d.frame_name||"WEIBO_STK_LOGIN_IFRAME";var a=d.frame_fun||"receiveMessage";var e=d.handler||"opener";var f=window[e];var c=function(){try{f&&f.frames[h]&&f.frames[h][a]&&f.frames[h][a](h);d.open&&window.close()}catch(i){throw i.toString()}};window.receiveMessage=function(i){document.location.reload()};if(d.open&&f){c()}})();